{% extends 'baseBackOffice.html.twig' %}

{% block title %} Dashboard Auction Overview
{% endblock %}

{% block pagecontent %}
	<div class="container-fluid group-data-[content=boxed]:max-w-boxed mx-auto">

		<div class="flex flex-col gap-2 py-4 md:flex-row md:items-center print:hidden">
			<div class="grow">
				<h5 class="text-16">Overview</h5>
			</div>
			<ul class="flex items-center gap-2 text-sm font-normal shrink-0">
				<li class="relative before:content-['\ea54'] before:font-remix ltr:before:-right-1 rtl:before:-left-1  before:absolute before:text-[18px] before:-top-[3px] ltr:pr-4 rtl:pl-4 before:text-slate-400 dark:text-zink-200">
					<a href="app_back_auction_list" class="text-slate-400 dark:text-zink-200">Auction</a>
				</li>
				<li class="text-slate-700 dark:text-zink-100">
					Overview
				</li>
			</ul>
		</div>
		<div class="grid grid-cols-1 gap-x-5 xl:grid-cols-12">
			<div class="xl:col-span-4">
				<div class="sticky top-[calc(theme('spacing.header')_*_1.3)] mb-5">
					<div class="card">
						<div class="card-body">

							<div class="grid grid-cols-1 gap-5 md:grid-cols-12">

								{% for img in auction.productImages %}
									{% if loop.index == 1 %}
										<div class="rounded-md md:col-span-8 md:row-span-2 bg-slate-100 dark:bg-zink-600">
											<img src="{{ vich_uploader_asset(img, 'imageFile') }}" alt="">
										</div>

									{% else %}
										<div class="p-4 rounded-md md:col-span-4 bg-slate-100 dark:bg-zink-600">
											<img src="{{ vich_uploader_asset(img, 'imageFile') }}" alt="">
										</div>
									{% endif %}
								{% endfor %}
							</div>


						</div>
					</div>
					<!--end card-->
					<div class="card">
						<div class="border-b card-body border-slate-200 dark:border-zink-500">
							<div class="flex">
								<h6 class="grow text-15">
									<i data-lucide="layers-3" class="inline-block size-4 ltr:mr-1 rtl:ml-1"></i>
									<span class="align-middle">Category:
										{{auction.productCategory.name}}</span>
								</h6>
								<div class="shrink-0">
									<i data-lucide="layers-3" class="inline-block text-yellow-500 size-4 ltr:mr-1 rtl:ml-1"></i>
									<span class="align-middle"></span>
								</div>
							</div>
						</div>
						<div class="card-body">
							<div class="flex items-center gap-3">
								<div class="w-10 h-10 rounded-full shrink-0 bg-sky-100 dark:bg-sky-500/20">
									<img src="assets/images/avatar-2.png" alt="" class="h-10 rounded-full">
								</div>
								<div class="grow">
									<h6 class="text-15">
										<a href="#!">
											Owner:
											{{auction.member.firstNAme|capitalize}}
											{{auction.member.lastNAme|capitalize}}</a>
									</h6>
									<p class="text-sm text-slate-500 dark:text-zink-200">Published:
										{{auction.addDate|date('Y-m-d H:i:s')}}</p>
								</div>
							</div>
						</div>
					</div>
					<!--end card-->
				</div>
			</div>
			<!--end col-->
			<div class="xl:col-span-8">
				<div class="card">
					<div class="card-body">
						<div class="relative ltr:float-right rtl:float-left dropdown">
							<a href="{{path('app_auction_deleted',{'id':auction.id, 'source':'user'})}}" class="flex items-center justify-center text-red-500 transition-all duration-200 ease-linear bg-red-100 rounded-md size-8 hover:text-white hover:bg-red-500 dark:bg-red-500/20 dark:hover:bg-red-500">
								<i data-lucide="trash-2" class="size-4"></i>
							</a>

						</div>
						<h1 class="mt-3 mb-1">{{auction.name}}</h1>


						<div class="mb-4">
							<p class="mb-1 text-green-500">Estimated: </p>
							<h4>{{auction.CurrentPrice}}
								Dt
							</h4>
						</div>


						<div class="grid grid-cols-1 gap-5 my-5 xl:grid-cols-3">
							<div class="flex items-center gap-5 p-4 border rounded-md border-slate-200 dark:border-zink-500">
								<div class="flex items-center justify-center">
									<i data-lucide="calendar-clock" class="w-6 h-6 text-slate-500 fill-slate-200 dark:text-zink-200 dark:fill-zink-500"></i>
								</div>
								<div>
									<h6 class="mb-1">Start Date</h6>
									<p class="text-slate-500 dark:text-zink-200">{{auction.startDate|date('Y-m-d H:i:s')}}
									</p>
								</div>
							</div>
							<div class="flex items-center gap-5 p-4 border rounded-md border-slate-200 dark:border-zink-500">
								<div class="flex items-center justify-center">
									<i data-lucide="hourglass" class="w-6 h-6 text-slate-500 fill-slate-200 dark:text-zink-200 dark:fill-zink-500"></i>
								</div>
								<div>
									<h6 class="mb-1">End Date</h6>
									<p class="text-slate-500 dark:text-zink-200">{{auction.endDate|date('Y-m-d H:i:s')}}</p>
								</div>
							</div>
						</div>

						<div class="mt-5">
							<h6 class="mb-3 text-15">Auction Description:</h6>
							<p class="mb-2 text-slate-500 dark:text-zink-200">{{auction.description}}</p>
						</div>


					</div>
				</div>
				<!--end card-->
			</div>
			<!--end col-->
		</div>
		<!--end grid-->
		<div class="h-[calc(100vh_-_theme('spacing.10')_*_6)] xl:min-h-[calc(100vh_-_theme('height.header')_*_2.4)] card xl:h-[calc(100%_-_theme('spacing.5'))]">
			<div class="flex flex-col h-full">
				<div class="tab-content">
					<div class="block tab-pane" id="mainChatList">
						<div class="card-body">
							<div class="flex items-center gap-3">
								<button class="inline-flex items-center justify-center transition-all duration-200 ease-linear rounded-md size-8 shrink-0 bg-slate-100 text-slate-500 dark:bg-zink-600 dark:text-zink-200 hover:text-custom-500 dark:hover:text-custom-500">
									<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="chevrons-left" class="lucide lucide-chevrons-left mx-auto size-4">
										<path d="m11 17-5-5 5-5"></path>
										<path d="m18 17-5-5 5-5"></path>
									</svg>
								</button>
								<h6 class="text-15 grow">Bids</h6>
							</div>
							<div class="relative mt-5">
								<input type="text" class="ltr:pl-8 rtl:pr-8 search form-input border-slate-200 dark:border-zink-500 focus:outline-none focus:border-custom-500 disabled:bg-slate-100 dark:disabled:bg-zink-600 disabled:border-slate-300 dark:disabled:border-zink-500 dark:disabled:text-zink-200 disabled:text-slate-500 dark:text-zink-100 dark:bg-zink-700 dark:focus:border-custom-800 placeholder:text-slate-400 dark:placeholder:text-zink-200" placeholder="Search for ..." autocomplete="off">
								<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-lucide="search" class="lucide lucide-search inline-block size-4 absolute ltr:left-2.5 rtl:right-2.5 top-2.5 text-slate-500 dark:text-zink-200 fill-slate-100 dark:fill-zink-600">
									<circle cx="11" cy="11" r="8"></circle>
									<path d="m21 21-4.3-4.3"></path>
								</svg>
							</div>
						</div>
						<div data-simplebar="init" class="max-h-[calc(100vh_-_380px)] xl:max-h-[calc(100vh_-_300px)] simplebar-scrollable-y">
							<div class="simplebar-wrapper" style="margin: 0px;">
								<div class="simplebar-height-auto-observer-wrapper">
									<div class="simplebar-height-auto-observer"></div>
								</div>
								<div class="simplebar-mask">
									<div class="simplebar-offset" style="right: 0px; bottom: 0px;">
										<div class="simplebar-content-wrapper" tabindex="0" role="region" aria-label="scrollable content" style="height: auto; overflow: hidden scroll;">
											<div class="simplebar-content" style="padding: 0px;">
												<ul class="flex flex-col gap-1" id="chatList">
													<li class="px-5">
														<p class="mb-1 text-slate-500 dark:text-zink-200">Recent Bids</p>
													</li>


													 {% for bid in bids %}
													 {% if bid.bidder is not null %}
														
													 <li>
														<a href="#!" class="flex items-center gap-3 px-5 py-2 [&amp;.active]:bg-slate-50 dark:[&amp;.active]:bg-zink-600 group/item active online">
														  	<div class="relative flex items-center justify-center font-semibold rounded-full text-slate-500 dark:text-zink-200 size-9 bg-slate-100 dark:bg-zink-600">
																<img src="assets/images/avatar-5.png" alt="" class="rounded-full h-9">
																<span class="absolute bottom-0 ltr:right-0 rtl:left-0 w-2.5 h-2.5 border-2 border-white dark:border-zink-700 rounded-full group-[.online]/item:bg-green-400 group-[.offline]/item:bg-slate-400 dark:group-[.offline]/item:bg-zink-500 bg-red-500"></span>
															</div>
                                                         
															<div class="overflow-hidden grow">
																<h6 class="mb-1">if{{bid.bidder.firstName|capitalize}} {{bid.bidder.lastName|capitalize}}</h6>
																<p class="text-xs truncate text-slate-500 dark:text-zink-200">Added bid: {{bid.value}}</p>
															</div>
															<div class="self-start shrink-0 text-slate-500 dark:text-zink-200">
																<small>{{bid.bidDate|date('Y-m-d H:i:s')}}</small>
															</div>
														</a>
														{% endif %}
													</li>{% endfor %}
												</ul>
											</div>
										</div>
									</div>
								</div>
								<div class="simplebar-placeholder" style="width: 735px; height: 664px;"></div>
							</div>
							<div class="simplebar-track simplebar-horizontal" style="visibility: hidden;">
								<div class="simplebar-scrollbar" style="width: 0px; display: none;"></div>
							</div>
							<div class="simplebar-track simplebar-vertical" style="visibility: visible;">
								<div class="simplebar-scrollbar" style="height: 184px; transform: translate3d(0px, 0px, 0px); display: block;"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

{% endblock %}
{% block endbodyjs %}

	<script src='assets/libs/choices.js/public/assets/scripts/choices.min.js'></script>
	<script src="assets/libs/%40popperjs/core/umd/popper.min.js"></script>
	<script src="assets/libs/tippy.js/tippy-bundle.umd.min.js"></script>
	<script src="assets/libs/simplebar/simplebar.min.js"></script>
	<script src="assets/libs/prismjs/prism.js"></script>
	<script src="assets/libs/lucide/umd/lucide.js"></script>
	<script src="assets/js/tailwick.bundle.js"></script>
	<!-- product overview init js-->
	<script src="assets/js/pages/apps-ecommerce-product-overview.init.js"></script>
    


	<!-- App js -->
	<script src="assets/js/app.js"></script>
{% endblock %}
