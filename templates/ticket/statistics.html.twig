{% extends 'baseBackOffice.html.twig' %}
{% block  pagecontent %}

<div style="max-width: 300px; margin: 0 auto;">
	<canvas id="myChart"></canvas>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var ctx = document.getElementById('myChart').getContext('2d');

    // Fetch percentages from Twig
    var percentages = [
      {{ ((StatePen / total)*100)|number_format(1) }},
      {{ ((StateRes / total)*100)|number_format(1) }},
      {{ ((StateRej / total)*100)|number_format(1) }},
      {{ ((StateClo / total)*100)|number_format(1) }}
    ];

    // Add percentage sign to labels
    var labels = ['Pending', 'Resolved', 'Rejected', 'Closed'].map(function(label, index) {
      return label + ' ' + percentages[index] + '%';
    });

    // Create the chart
    var myChart = new Chart(ctx, {
      type: 'pie',
      data: {
        labels: labels,
        datasets: [{
          data: percentages,
          backgroundColor: [
            'rgba(255, 206, 86, 0.7)',
            'rgba(75, 192, 192, 0.7)',
            'rgba(255, 99, 132, 0.7)',
            'rgba(54, 162, 235, 0.7)'
          ],
          borderColor: [
            'rgba(255, 206, 86, 0.7)',
            'rgba(75, 192, 192, 0.7)',
            'rgba(255, 99, 132, 0.7)',
            'rgba(54, 162, 235, 0.7)'
          ],
          borderWidth: 1
        }]
      },
      options: {
        // Customize options as needed
      }
    });
  });
</script>

<div style="max-width: 300px; margin: 0 auto;">
	<canvas id="myChart2"></canvas>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    var ctx = document.getElementById('myChart2').getContext('2d');

    // Fetch percentages from Twig
    var percentages = [
      {{ ((CatPro / total)*100)|number_format(1) }},
      {{ ((CatDel / total)*100)|number_format(1) }},
      {{ ((CatWeb / total)*100)|number_format(1) }},
      {{ ((CatAcc / total)*100)|number_format(1) }}
    ];

    // Add percentage sign to labels
    var labels = ['Product', 'Delivery', 'Website', 'Account'].map(function(label, index) {
      return label + ' ' + percentages[index] + '%';
    });

    // Create the chart
    var myChart = new Chart(ctx, {
      type: 'pie',
      data: {
        labels: labels,
        datasets: [{
          data: percentages,
          backgroundColor: [
            'rgba(255, 206, 86, 0.7)',
            'rgba(75, 192, 192, 0.7)',
            'rgba(255, 99, 132, 0.7)',
            'rgba(54, 162, 235, 0.7)'
          ],
          borderColor: [
            'rgba(255, 206, 86, 0.7)',
            'rgba(75, 192, 192, 0.7)',
            'rgba(255, 99, 132, 0.7)',
            'rgba(54, 162, 235, 0.7)'
          ],
          borderWidth: 1
        }]
      },
      options: {
        // Customize options as needed
      }
    });
  });
</script>
{% endblock %}
